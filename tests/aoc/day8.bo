library "base.bo";
library "vec.bo";
import "day8_input.bo";

const BAR = *"|".ptr;

const buffer_of.(T) = fn(vec: &typeof Vec.(T)) -> [] T {
    let buf = #0;
    buf.ptr = vec.ptr;
    buf.len = vec.len;
    buf
};

const aoc_day8 = fn() {
    let parse = INPUT;
    take_whitespace(&parse);

    let vec = vec_new();
    defer vec_free(vec);

    while *parse.ptr != BAR {
        let word = take_word(&parse);
        take_whitespace(&parse);

        vec_push(&vec, word);
    };

    for vec_as_buffer(&vec) {
        print("The word is: ");
        print(*_it);
        print("\n");
    };
};
