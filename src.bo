library "fmt.bo";
library "mem.bo";

const Vec3 = type {
    x: i32,
    y: i32,
    z: i32,
};

const vec3 = fn(x: i32, y: i32, z = 0 : i32) -> Vec3 {
    let vec3 = uninit : Vec3;
    vec3.x = x; vec3.y = y; vec3.z = z;
    vec3
};

const vec3_new = vec3;

const function = fn(ptr: &any, callback: fn(&any)) {
    callback(ptr);
};

const main = fn() -> u64 {
    function(<< &99, fn(data: &any) {
        print("The number is %\n", &[fmt_i32(* << data)]);
    });

    3
};
