const print_u8  = extern "borkle_lib/hello" "print_u8"  : extern fn (u8) -> u8;
const callback  = extern "borkle_lib/hello" "callback"  : extern fn () -> extern fn (i64) -> i64;

const alloc = extern "borkle_lib/hello" "alloc" : extern fn (usize) -> &();
const dealloc = extern "borkle_lib/hello" "dealloc" : extern fn (&(), usize);

const print_i64 = extern "borkle_lib/hello" "print_i64" : extern fn (i64) -> i64;

const call = fn (value: i64, callback: fn (i64) -> i64) -> i64 {
    callback(value)
};

const main = {
    print_i64(call(42, fn (num: i64) -> i64  print_i64(num)));
    print_i64(call(50, fn (num: i64) -> i64  print_i64(num)));
    print_i64(call(90, fn (num: i64) -> i64  print_i64(num)));
};
